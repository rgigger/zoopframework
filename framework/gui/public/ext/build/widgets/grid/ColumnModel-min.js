/*
 * Ext JS Library 1.1 Beta 2
 * Copyright(c) 2006-2007, Ext JS, LLC.
 * licensing@extjs.com
 * 
 * http://www.extjs.com/license
 */


Ext.grid.ColumnModel=function(_1){this.config=_1;this.lookup={};for(var i=0,_3=_1.length;i<_3;i++){var c=_1[i];if(typeof c.dataIndex=="undefined"){c.dataIndex=i;}if(typeof c.renderer=="string"){c.renderer=Ext.util.Format[c.renderer];}if(typeof c.id=="undefined"){c.id=i;}if(c.editor&&c.editor.isFormField){c.editor=new Ext.grid.GridEditor(c.editor);}this.lookup[c.id]=c;}this.defaultWidth=100;this.defaultSortable=false;this.addEvents({"widthchange":true,"headerchange":true,"hiddenchange":true,"columnmoved":true,"columnlockchange":true});Ext.grid.ColumnModel.superclass.constructor.call(this);};Ext.extend(Ext.grid.ColumnModel,Ext.util.Observable,{getColumnId:function(_5){return this.config[_5].id;},getColumnById:function(id){return this.lookup[id];},getIndexById:function(id){for(var i=0,_9=this.config.length;i<_9;i++){if(this.config[i].id==id){return i;}}return-1;},moveColumn:function(_a,_b){var c=this.config[_a];this.config.splice(_a,1);this.config.splice(_b,0,c);this.dataMap=null;this.fireEvent("columnmoved",this,_a,_b);},isLocked:function(_d){return this.config[_d].locked===true;},setLocked:function(_e,_f,_10){if(this.isLocked(_e)==_f){return;}this.config[_e].locked=_f;if(!_10){this.fireEvent("columnlockchange",this,_e,_f);}},getTotalLockedWidth:function(){var _11=0;for(var i=0;i<this.config.length;i++){if(this.isLocked(i)&&!this.isHidden(i)){this.totalWidth+=this.getColumnWidth(i);}}return _11;},getLockedCount:function(){for(var i=0,len=this.config.length;i<len;i++){if(!this.isLocked(i)){return i;}}},getColumnCount:function(_15){if(_15===true){var c=0;for(var i=0,len=this.config.length;i<len;i++){if(!this.isHidden(i)){c++;}}return c;}return this.config.length;},getColumnsBy:function(fn,_1a){var r=[];for(var i=0,len=this.config.length;i<len;i++){var c=this.config[i];if(fn.call(_1a||this,c,i)===true){r[r.length]=c;}}return r;},isSortable:function(col){if(typeof this.config[col].sortable=="undefined"){return this.defaultSortable;}return this.config[col].sortable;},getRenderer:function(col){if(!this.config[col].renderer){return Ext.grid.ColumnModel.defaultRenderer;}return this.config[col].renderer;},setRenderer:function(col,fn){this.config[col].renderer=fn;},getColumnWidth:function(col){return this.config[col].width||this.defaultWidth;},setColumnWidth:function(col,_25,_26){this.config[col].width=_25;this.totalWidth=null;if(!_26){this.fireEvent("widthchange",this,col,_25);}},getTotalWidth:function(_27){if(!this.totalWidth){this.totalWidth=0;for(var i=0,len=this.config.length;i<len;i++){if(_27||!this.isHidden(i)){this.totalWidth+=this.getColumnWidth(i);}}}return this.totalWidth;},getColumnHeader:function(col){return this.config[col].header;},setColumnHeader:function(col,_2c){this.config[col].header=_2c;this.fireEvent("headerchange",this,col,_2c);},getColumnTooltip:function(col){return this.config[col].tooltip;},setColumnTooltip:function(col,_2f){this.config[col].tooltip=_2f;},getDataIndex:function(col){return this.config[col].dataIndex;},setDataIndex:function(col,_32){this.config[col].dataIndex=_32;},findColumnIndex:function(_33){var c=this.config;for(var i=0,len=c.length;i<len;i++){if(c[i].dataIndex==_33){return i;}}return-1;},isCellEditable:function(_37,_38){return(this.config[_37].editable||(typeof this.config[_37].editable=="undefined"&&this.config[_37].editor))?true:false;},getCellEditor:function(_39,_3a){return this.config[_39].editor;},setEditable:function(col,_3c){this.config[col].editable=_3c;},isHidden:function(_3d){return this.config[_3d].hidden;},isFixed:function(_3e){return this.config[_3e].fixed;},isResizable:function(_3f){return _3f>=0&&this.config[_3f].resizable!==false&&this.config[_3f].fixed!==true;},setHidden:function(_40,_41){this.config[_40].hidden=_41;this.totalWidth=null;this.fireEvent("hiddenchange",this,_40,_41);},setEditor:function(col,_43){this.config[col].editor=_43;}});Ext.grid.ColumnModel.defaultRenderer=function(_44){if(typeof _44=="string"&&_44.length<1){return"&#160;";}return _44;};Ext.grid.DefaultColumnModel=Ext.grid.ColumnModel;